@import "tailwindcss";
@plugin "@tailwindcss/forms";
@plugin "@tailwindcss/typography";

/* Fonts */
:root {
  --font-geist-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --font-geist-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New";
  --font-inria-serif: ui-serif, Georgia, serif;
}

/* ===== Design tokens (LIGHT som default) ===== */
:root {
  /* App tokens */
  --bg: #fbf7f2;
  --ink: #1f1b16;
  --muted: #5a524a;

  --card: rgba(255, 255, 255, 0.62);
  --line: rgba(95, 71, 41, 0.15);

  --accent: #542d29;
  --btn: var(--accent);
  --btnText: #fbf7f2;
  --btnnText: #1f1b16;

  /* Koppla även "background/foreground" till samma tokens
     så body alltid matchar appens theme */
  --background: var(--bg);
  --foreground: var(--ink);
  --panel: rgba(255, 255, 255, 0.55);
  /* kort */
  --field: rgba(255, 255, 255, 0.90);
  /* inputs/selects */
  --line: rgba(95, 71, 41, 0.18);
  /* lite tydligare än 0.15 */
}

/* ===== DARK via class (.dark) ===== */
.dark {
  --bg: #0f0f10;
  --ink: #f5f5f6;
  --muted: rgba(245, 245, 246, 0.78);

  --card: rgba(255, 255, 255, 0.06);
  --line: rgba(245, 245, 246, 0.14);
  --btnnText: #0f0f10;

  --accent: #cbbebc;
  --btn: #f9f5f4;
  --btnText: #0f0f10;

  --background: var(--bg);
  --foreground: var(--ink);
  --panel: rgba(255, 255, 255, 0.06);
  --field: rgba(255, 255, 255, 0.10);
}

/* (valfritt) om du vill att användarens OS-dark ska gälla
   när du INTE sätter .dark själv */
@media (prefers-color-scheme: dark) {
  :root:not(.dark) {
    --bg: #0f0f10;
    --ink: #f5f5f6;
    --muted: rgba(245, 245, 246, 0.78);

    --card: rgba(255, 255, 255, 0.06);
    --line: rgba(245, 245, 246, 0.14);

    --accent: #cbbebc;
    --btn: #f9f5f4;
    --btnText: #0f0f10;

    --background: var(--bg);
    --foreground: var(--ink);
  }
}

/* Extra modes */
html.mk-large-text {
  font-size: 112.5%;
}

html.mk-high-contrast {
  --line: rgba(255, 255, 255, 0.28);
}

/* Tailwind v4 theme bindings */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --font-serif: var(--font-serif), var(--font-inria-serif);
}

/* Base */
@layer base {

  html,
  body,
  #__next {
    height: 100%;
  }

  body {
    font-family: var(--font-sans);
    background: var(--background);
    color: var(--foreground);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

.prose {
  max-width: none;
}